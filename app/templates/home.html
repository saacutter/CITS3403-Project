{% extends "base.html" %}

{% block title %}
Tournament Manager - Home
{% endblock %}

{% block body %}
<div class="container">
    <main class="container mx-auto p-4 mt-8">
        {% if current_user.is_anonymous %}
        <section class="bg-gray-900 p-6 rounded-lg shadow-lg mb-8">
            <h2 class="text-2xl font-bold text-white mb-3">Welcome to Tournament Manager ðŸŽ®</h2>
            <p class="text-gray-300 mb-4">Our new Tournament Manager helps you create, manage, and track competitive 
            tournaments with ease. Whether if you're organising local gaming events, online challenges, or just 
            tracking friendly rivalries, our platform has you covered for all of your needs</p>
            <ul class="text-gray-400 list-disc list-inside mb-4">
                <li>Create and manage your own tournaments</li>
                <li>Track game results and player stats</li>
                <li>Explore public tournaments created by others</li>
                <li>Connect with friends and follow their activity</li>
                <li>Want to stay under the radar? You can make your profile private with just one click.</li>
            </ul>
        </section>
        {% else %}
        <section class="welcome-section bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h2 class="text-xl font-semibold mb-2">Welcome back, {{ current_user.username }}!</h2>
            <p class="text-gray-400">Ready to manage your tournaments or find a new challenge?</p>
        </section>

        <section class="quick-actions mb-8">
            <h3 class="text-lg font-semibold mb-4">Quick Actions</h3>
            <div class="action-buttons flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4">
                <a href="{{ url_for('tournament') }}" class="bg-blue-600 text-white px-6 py-3 rounded-md text-center hover:bg-blue-700 transition hover:no-underline">Create New Tournament</a>
                <a href="{{ url_for('browse') }}" class="bg-gray-700 text-white px-6 py-3 rounded-md text-center hover:bg-gray-600 transition hover:no-underline">Browse Tournaments</a>
                <a href="{{ url_for('profile', username=current_user.username )}}" class="bg-gray-700 text-white px-6 py-3 rounded-md text-center hover:bg-gray-600 transition hover:no-underline">My Tournaments</a>
            </div>
        </section>
        {% endif %}

        <section class="mb-8">
            <h3 class="text-lg font-semibold mb-4 text-blue-400">Featured Tournaments</h3>
            {% if public_tournaments %}
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    {% for tournament in public_tournaments %}
                        {% include "_tournament.html" %}
                    {% endfor %}
                </div>
            {% else %}
                <div class="col-span-2 text-center text-gray-400">
                    <p class="text-white text-xl">There are currently no public tournaments.</p>
                    <p class="text-gray-400 mt-2">Check out how a tournament panel looks!</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6 px-4">

                        <!-- Rocket League -->
                        <div class="bg-gray-800 p-6 rounded-lg shadow-lg flex items-center mb-4 sample-tournament">
                            <div class="mr-6">
                                <img src="{{ url_for('static', filename='img/profilepic1.png') }}" alt="Profile Picture" class="w-24 h-24 rounded-full object-cover">
                                <p class="center text-white mt-2"><strong>rocketfan123</strong></p>
                            </div>
                            <div class="flex-grow">
                                <h4 class="text-md font-semibold mb-2 text-white">Rocket League Rumble</h4>
                                <p class="text-gray-400">Game: Rocket League</p>
                                <p class="text-gray-400 mb-2">Date: 2025-07-15</p>
                                <a onclick="alert('A fun and fast-paced competition for all levels.')" class="btn-details text-blue-400 hover:underline">View Details</a>
                            </div>
                            <img src="{{ url_for('static', filename='img/rocketleague.png') }}" alt="Game Preview" class="w-24 h-24 object-cover rounded-md ml-4">
                        </div>

                        <!-- Chess -->
                        <div class="bg-gray-800 p-6 rounded-lg shadow-lg flex items-center mb-4 sample-tournament">
                            <div class="mr-6">
                                <img src="{{ url_for('static', filename='img/profilepic2.png') }}" alt="Profile Picture" class="w-24 h-24 rounded-full object-cover">
                                <p class="center text-white mt-2"><strong>chessmasterX</strong></p>
                            </div>
                            <div class="flex-grow">
                                <h4 class="text-md font-semibold mb-2 text-white">Chess Masters 2025</h4>
                                <p class="text-gray-400">Game: Chess</p>
                                <p class="text-gray-400 mb-2">Date: 2025-08-01</p>
                                <a onclick="alert('Classic strategy showdown for elite minds.')" class="btn-details text-blue-400 hover:underline">View Details</a>
                            </div>
                            <img src="{{ url_for('static', filename='img/chess.png') }}" alt="Game Preview" class="w-24 h-24 object-cover rounded-md ml-4">
                        </div>
                    </div>
                </div>
            {% endif %}
        </section>

        {% if current_user.is_authenticated %}
        <section class="mb-16">
            <h3 class="text-lg font-semibold mb-4">Friends Tournaments</h3>
            {% if friend_tournaments %}
                <div class="p-2 max-h-80 overflow-y-auto">
                    {% for tournament in friend_tournaments %}
                        {% include "_tournament.html" %}
                    {% endfor %}
                </div>
            {% else %}
                <div class="col-span-2 text-center text-gray-400">
                    <p class="text-white text-xl">Your followers have not competed in any tournaments yet.</p>
                </div>
            {% endif %}
        </section>
        {% endif %}
    </main>
</div>
<script src="../static/js/details.js"></script>
{% endblock %}
